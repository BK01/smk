<tool-panel class="smk-geomark-panel"
    v-bind="$$projectProps( 'tool-panel' )"
>
    <template slot="header">
        <slot></slot>
    </template>

    <p>Use geomarks to create and share areas of interest. Create a geomark by drawing a shape on the map and saving it, or load an existing geomark by its link.</p>    
    
    <ul>
        <li><a href="#" v-on:click="$$emit( 'create-geomark-from-drawing' )">Save current drawing as a geomark</a></li>
        <li><a href="#" v-on:click="$$emit( 'clear-drawing' )">Clear current drawing</a></li>
        <li><a href="#" v-on:click="$$emit( 'load-geomark' )">Load a geomark from a link</a></li>
        <li v-if="enableCreateFromFile === true"><a href="#" v-on:click="$$emit( 'create-geomark-from-file' )">Upload a file to create a new geomark</a></li>
    </ul>

    <div v-if="geomarks.length != 0" id="geomarks-container">
        <h2>Loaded Geomarks</h2>
        <ul class="smk-no-list-style">
            <li class="smk-truncate-with-ellipsis" v-for="geomark in geomarks">
                <input type="checkbox" checked v-bind:id="geomark.id" v-on:click="$$emit( 'toggle-geomark', { id: geomark.id } )">
                <a v-bind:href="geomark.url" target="_blank">{{ geomark.id}}</a>
            </li>
        </ul>
    </div>

    <alert v-if="showAlert === true" @alert-close="$$emit( 'close-alert' )">
        <div slot="alertBody" v-html="alertBody"></div>
    </alert>

    <prompt 
        v-if="showPrompt === true" 
        v-model="promptReply" 
        @prompt-cancel="$$emit( 'cancel-prompt' )" 
        @prompt-close="$$emit( 'close-prompt', $event )">
        <div slot="promptBody" v-html="promptBody"></div>
    </prompt>
</tool-panel>
